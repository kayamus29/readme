{% extends 'base.html' %}
{% block content %}
<div class="max-w-md mx-auto mt-10 bg-white p-6 rounded shadow">
  <h2 class="text-2xl font-bold mb-4 text-blue-700">Login</h2>
  <form method="post">
    {% csrf_token %}
    <div class="mb-4">
      <label for="id_login" class="block text-gray-700 text-sm font-bold mb-2">Username or Email</label>
      <input type="text" name="login" autofocus required id="id_login" class="w-full border rounded px-3 py-2 mb-2" placeholder="Enter your username or email">
      <input type="hidden" name="username" id="id_username">
    </div>
    <div class="mb-4">
      <label for="id_password" class="block text-gray-700 text-sm font-bold mb-2">Password</label>
      <input type="password" name="password" required id="id_password" class="w-full border rounded px-3 py-2" placeholder="Enter your password">
    </div>
    {% if form.errors %}
  <div class="bg-red-100 text-red-700 px-4 py-2 rounded mb-2">
    {{ form.errors }}
  </div>
{% endif %}
<button type="submit" class="w-full bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700">Login</button>
  </form>
  <p class="mt-4">Don't have an account? <a href="/signup/" class="text-blue-600 underline">Sign Up</a></p>
  <p class="text-xs text-gray-500 mt-6">By logging in, you agree to our <a href="/terms/" class="text-blue-600 underline">Terms and Conditions</a>.</p>
</div>
<script>
  const loginInput = document.getElementById('id_login');
  const usernameInput = document.getElementById('id_username');
  if (loginInput && usernameInput) {
    loginInput.addEventListener('input', function() {
      usernameInput.value = loginInput.value;
    });
    // Sync on load
    usernameInput.value = loginInput.value;
  }
</script>
{% endblock %}
